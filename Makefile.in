PREFIX = @@prefix@@

.PHONY: all clean install uninstall distclean dist-clean

all:
	mkdir -p build && cd build && qmake ../riot-player.pro
	$(MAKE) -C build

clean:
	rm -rf build

install:
	install -d ${PREFIX}/bin
	install -s build/riot-player ${PREFIX}/bin
	install -d ${PREFIX}/share/icons
	install -m 644 riot-player.icon ${PREFIX}/share/icons
	install -d ${PREFIX}/share/applications
	install -m 644 riot-player.desktop ${PREFIX}/share/applications

uninstall:
	rm -f ${PREFIX}/bin/riot-player
	rm -f ${PREFIX}/share/icons/riot-player.icon
	rm -f ${PREFIX}/share/applications/riot-player.desktop

distclean: clean
	rm Makefile
	rm riot-player.desktop

dist-clean: distclean
