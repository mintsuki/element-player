#!/bin/sh

set -e

# Defaults
PREFIX="/usr/local"

for i in "$@"; do
	case $i in
		--prefix=*)
			PREFIX="${i#*=}"
			;;
		--help | -h)
cat <<EOF
riot-player configuration program.

Available options:

    --prefix=PATH      Specifies the path where riot-player will be
                       installed to.
                       (default: /usr/local)

    --help             Shows this help.

EOF
			exit 0
			;;
		*)
			printf "Unknown option: $i\n"
			exit 1
			;;
	esac
done

sed "s|@@prefix@@|$PREFIX|g" < Makefile.in > Makefile
sed "s|@@prefix@@|$PREFIX|g" < riot-player.desktop.in > riot-player.desktop
printf "Prefix: $PREFIX\n"

exit 0
